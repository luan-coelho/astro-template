---
import { Rocket } from "lucide-react"
import { SideBarItem } from "@/components/layout/sidebar/sidebar-item.tsx"
import { type MenuItem, type Module } from "@/types/model"

const id = "123e4567-e89b-12d3-a456-426614174001"
const response = await fetch(`http://localhost:8080/api/users/${id}/modules`)
const modules: Module[] = await response.json()
const module = modules[0]
---

<aside
    class="flex min-w-64 fixed min-h-screen flex-col bg-[#1E1E1E] text-white transition-all delay-100 duration-300 ease-in-out md:static">
    <div
        class="sticky top-0 inline-flex h-20 w-full items-center justify-start gap-3 p-6 py-5 text-xl font-semibold text-white">
        <Rocket className="text-primary" />
        <h1>Logo</h1>
    </div>
    <div class="inline-flex h-11 flex-col items-start justify-start gap-2.5 px-6 py-3">
        <div class="text-xs font-medium leading-tight text-[#8c8c8c]">Menu</div>
    </div>
    <ul>
        {module?.menuItems?.map((menuItem: MenuItem) => <SideBarItem client:only="react" menuItem={menuItem} />)}
    </ul>
</aside>
